//------------------------------------------------------------------------
// ● 使用ライブラリの宣言
//------------------------------------------------------------------------
using UnityEngine;
using System.Collections;
//========================================================================
// ■ Item_Info
//------------------------------------------------------------------------
//	アイテム情報のクラス。
//========================================================================

public class Item_Info : Mono_Behaviour_EX {
	//--------------------------------------------------------------------
	// ● メンバ変数
	//--------------------------------------------------------------------
	TextMesh text;
	new Renderer renderer;
	Base_Item item;
	//--------------------------------------------------------------------
	// ● 表示
	//--------------------------------------------------------------------
	public void visible(Base_Item item) {
		if (this.item != item) {
			this.item = item;
			text.text = item.item_name;
			renderer.enabled = true;
		}
	}
	//--------------------------------------------------------------------
	// ● 非表示
	//--------------------------------------------------------------------
	public void hidden() {
		item = null;
		text.text = "";
		renderer.enabled = false;
	}
	//--------------------------------------------------------------------
	// ● 初期化
	//--------------------------------------------------------------------
	void Start() {
		text = GetComponent<TextMesh>();
		renderer = GetComponent<Renderer>();

		hidden();
	}
	//--------------------------------------------------------------------
	// ● 更新（遅）
	//--------------------------------------------------------------------
	void LateUpdate() {
		if (item != null) {
			transform.position = item.origin.position + item.offset;
			transform.rotation = Camera.main.transform.rotation;

		} else {
			hidden();
		}

		item = null;
	}
}